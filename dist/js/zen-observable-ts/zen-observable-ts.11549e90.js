function t(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=function(){return"function"==typeof Symbol},i=function(t){return o()&&Boolean(Symbol[t])},u=function(t){return i(t)?Symbol[t]:"@@"+t};o()&&!i("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),f=u("observable"),s=u("species");function a(t,e){var r=t[e];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function l(t){var e=t.constructor;return void 0!==e&&null===(e=e[s])&&(e=void 0),void 0!==e?e:_}function b(t){b.log?b.log(t):setTimeout((function(){throw t}))}function p(t){Promise.resolve().then((function(){try{t()}catch(e){b(e)}}))}function h(t){var e=t._cleanup;if(void 0!==e&&(t._cleanup=void 0,e))try{if("function"==typeof e)e();else{var r=a(e,"unsubscribe");r&&r.call(e)}}catch(n){b(n)}}function v(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function y(t,e,r){t._state="running";var n=t._observer;try{var o=a(n,e);switch(e){case"next":o&&o.call(n,r);break;case"error":if(v(t),!o)throw r;o.call(n,r);break;case"complete":v(t),o&&o.call(n)}}catch(i){b(i)}"closed"===t._state?h(t):"running"===t._state&&(t._state="ready")}function d(t,e,r){if("closed"!==t._state){if("buffering"!==t._state)return"ready"!==t._state?(t._state="buffering",t._queue=[{type:e,value:r}],void p((function(){return function(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(y(t,e[r].type,e[r].value),"closed"!==t._state);++r);}}(t)}))):void y(t,e,r);t._queue.push({type:e,value:r})}}var m=function(){function t(t,e){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var r=new w(this);try{this._cleanup=e.call(void 0,r)}catch(n){r.error(n)}"initializing"===this._state&&(this._state="ready")}return t.prototype.unsubscribe=function(){"closed"!==this._state&&(v(this),h(this))},n(t,[{key:"closed",get:function(){return"closed"===this._state}}]),t}(),w=function(){function t(t){this._subscription=t}var e=t.prototype;return e.next=function(t){d(this._subscription,"next",t)},e.error=function(t){d(this._subscription,"error",t)},e.complete=function(){d(this._subscription,"complete")},n(t,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),t}(),_=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var r=e.prototype;return r.subscribe=function(t){return"object"==typeof t&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new m(t,this._subscriber)},r.forEach=function(t){var e=this;return new Promise((function(r,n){if("function"==typeof t)var o=e.subscribe({next:function(e){try{t(e,i)}catch(r){n(r),o.unsubscribe()}},error:n,complete:r});else n(new TypeError(t+" is not a function"));function i(){o.unsubscribe(),r()}}))},r.map=function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(l(this))((function(r){return e.subscribe({next:function(e){try{e=t(e)}catch(n){return r.error(n)}r.next(e)},error:function(t){r.error(t)},complete:function(){r.complete()}})}))},r.filter=function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");return new(l(this))((function(r){return e.subscribe({next:function(e){try{if(!t(e))return}catch(n){return r.error(n)}r.next(e)},error:function(t){r.error(t)},complete:function(){r.complete()}})}))},r.reduce=function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var r=l(this),n=arguments.length>1,o=!1,i=arguments[1];return new r((function(r){return e.subscribe({next:function(e){var u=!o;if(o=!0,!u||n)try{i=t(i,e)}catch(c){return r.error(c)}else i=e},error:function(t){r.error(t)},complete:function(){if(!o&&!n)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(i),r.complete()}})}))},r.concat=function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=l(this);return new o((function(e){var n,i=0;return function t(u){n=u.subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){i===r.length?(n=void 0,e.complete()):t(o.from(r[i++]))}})}(t),function(){n&&(n.unsubscribe(),n=void 0)}}))},r.flatMap=function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var r=l(this);return new r((function(n){var o=[],i=e.subscribe({next:function(e){if(t)try{e=t(e)}catch(c){return n.error(c)}var i=r.from(e).subscribe({next:function(t){n.next(t)},error:function(t){n.error(t)},complete:function(){var t=o.indexOf(i);t>=0&&o.splice(t,1),u()}});o.push(i)},error:function(t){n.error(t)},complete:function(){u()}});function u(){i.closed&&0===o.length&&n.complete()}return function(){o.forEach((function(t){return t.unsubscribe()})),i.unsubscribe()}}))},r[f]=function(){return this},e.from=function(r){var n="function"==typeof this?this:e;if(null==r)throw new TypeError(r+" is not an object");var o=a(r,f);if(o){var u=o.call(r);if(Object(u)!==u)throw new TypeError(u+" is not an object");return function(t){return t instanceof _}(u)&&u.constructor===n?u:new n((function(t){return u.subscribe(t)}))}if(i("iterator")&&(o=a(r,c)))return new n((function(e){p((function(){if(!e.closed){for(var n,i=t(o.call(r));!(n=i()).done;){var u=n.value;if(e.next(u),e.closed)return}e.complete()}}))}));if(Array.isArray(r))return new n((function(t){p((function(){if(!t.closed){for(var e=0;e<r.length;++e)if(t.next(r[e]),t.closed)return;t.complete()}}))}));throw new TypeError(r+" is not observable")},e.of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new("function"==typeof this?this:e)((function(t){p((function(){if(!t.closed){for(var e=0;e<r.length;++e)if(t.next(r[e]),t.closed)return;t.complete()}}))}))},n(e,null,[{key:s,get:function(){return this}}]),e}();o()&&Object.defineProperty(_,Symbol("extensions"),{value:{symbol:f,hostReportError:b},configurable:!0});export{_ as O};
