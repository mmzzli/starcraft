import{P as s}from"../vant/vant.819e26c8.js";import{_ as a}from"../HeaderTitle/HeaderTitle.41d7b1f9.js";import{i as t}from"../img32/img32.2d4b9acf.js";import{i as r}from"../img37/img37.14b4b250.js";import{u as e}from"../vuex/vuex.adf06551.js";import{k as o}from"../starcraft-sdk/starcraft-sdk.b9fffec7.js";import{k as i,c as l,r as n,d as c,e as m,A as u,j as p,M as v,F as j,P as h,L as b,g,C as d,u as f,B as y,x as w,N as k,Q as T,R as _}from"../@vue/@vue.f0ed93ab.js";import{_ as x}from"../vue-count-to/vue-count-to.7851cffd.js";import"../@vant/@vant.0d6b19bc.js";import"../vue-router/vue-router.6a5eb8ba.js";import"../starcraft-core/starcraft-core.a7e8a7b2.js";import"../@ethersproject/@ethersproject.82fce948.js";import"../bn.js/bn.js.022a57fe.js";import"../aes-js/aes-js.52245d71.js";import"../hash.js/hash.js.951de082.js";import"../minimalistic-assert/minimalistic-assert.62310433.js";import"../inherits/inherits.e883a70c.js";import"../bech32/bech32.0c6cc0e9.js";import"../js-sha3/js-sha3.ce966f76.js";import"../ethers/ethers.7357afd8.js";import"../@apollo/@apollo.167459d8.js";import"../tslib/tslib.cdb03bbf.js";import"../optimism/optimism.dbbdffb5.js";import"../@wry/@wry.ac881673.js";import"../ts-invariant/ts-invariant.73996d61.js";import"../graphql/graphql.c449efb6.js";import"../zen-observable-ts/zen-observable-ts.11549e90.js";import"../symbol-observable/symbol-observable.efed2817.js";import"../graphql-tag/graphql-tag.47c56ce3.js";const C={class:"container"},B={class:"container2"},E={class:"baglist"},$=["onClick"],q=["src"],O={class:"popupbox1"},z=["src"],F={class:"popup_BagsItem"},I=["src"],L={class:"attr"},N=["src"],P={class:"title2"},S=(s=>(T("data-v-318ffd1e"),s=s(),_(),s))((()=>v("span",null,"Energy",-1))),A={class:"progress2"},H=x(i({__name:"Bags",setup(i){const{proxy:T}=g(),_=e(),x=l((()=>_.state.walletAccount)),H=n(!1),R=n([]),U=c({list:[]}),J=n(null);m((()=>{x.value&&M()}));const M=async()=>{T.$showLoadingToast({});try{const s=await o().tokensOfOwnerBySize(x.value,0,1e3);R.value=s[0].map((s=>Number(s))),Q()}catch(s){T.$showFailToast("Error")}},Q=async()=>{T.$showLoadingToast({});try{const s=R.value.map((async s=>{try{const a=(await o().tokenURI(s)).split(",")[1],t=atob(a),r=JSON.parse(t),e=r.attributes.reduce(((s,a)=>(s[a.trait_type]=a.value,s)),{});return r.attributes=e,r}catch(a){return null}})),a=await Promise.all(s);U.list=a.filter((s=>null!==s)),T.$closeToast()}catch(s){T.$showFailToast("Error")}},D=()=>{H.value=!1};return(e,o)=>{const i=a,l=s;return d(),u("section",C,[p(i,{headTitle:"Bags"}),v("div",B,[v("ul",E,[(d(!0),u(j,null,h(U.list,((s,a)=>(d(),u("li",{key:a,onClick:a=>(s=>{H.value=!0,J.value=s})(s)},[v("img",{src:s.image,alt:""},null,8,q)],8,$)))),128))])]),p(l,{show:H.value,"onUpdate:show":o[0]||(o[0]=s=>H.value=s),style:{background:"transparent"}},{default:b((()=>[v("div",O,[v("img",{class:"closebtn",src:f(t),alt:"",onClick:D},null,8,z),v("div",F,[v("img",{src:J.value.image,alt:""},null,8,I),v("p",null,y(J.value.name),1),v("div",L,[v("img",{src:f(r),alt:""},null,8,N),v("div",null,[v("div",P,[S,w(),v("span",null,y(J.value.attributes.Energy),1)]),v("div",A,[(d(),u(j,null,h(12,((s,a)=>v("i",{key:a,class:k({active:a+1<=J.value.attributes.Energy})},null,2))),64))])])]),v("button",{class:"btn2",onClick:D},"Close")])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-318ffd1e"]]);export{H as default};
