import{h as t,I as a,S as s}from"../vant/vant.819e26c8.js";import{_ as e}from"../HeaderTitle/HeaderTitle.41d7b1f9.js";import{k as i,c as l,r,d as o,e as n,A as m,j as c,M as u,u as d,K as v,B as p,x as h,N as j,F as b,P as f,s as g,v as y,L as w,g as _,C,Q as T,R as $}from"../@vue/@vue.f0ed93ab.js";import{i as k}from"../img26/img26.1f52bc28.js";import{u as x,a as E}from"../vue-router/vue-router.6a5eb8ba.js";import{u as R}from"../vuex/vuex.adf06551.js";import{t as S,r as q,u as I,g as N}from"../starcraft-sdk/starcraft-sdk.b9fffec7.js";import{C as F}from"../index/index.b777d8e2.js";import{r as W}from"../config/config.dfdc56f9.js";import{i as A}from"../inviting/inviting.00ec2d8c.js";import{_ as P}from"../vue-count-to/vue-count-to.7851cffd.js";import"../@vant/@vant.0d6b19bc.js";import"../img32/img32.2d4b9acf.js";import"../starcraft-core/starcraft-core.a7e8a7b2.js";import"../@ethersproject/@ethersproject.82fce948.js";import"../bn.js/bn.js.022a57fe.js";import"../aes-js/aes-js.52245d71.js";import"../hash.js/hash.js.951de082.js";import"../minimalistic-assert/minimalistic-assert.62310433.js";import"../inherits/inherits.e883a70c.js";import"../bech32/bech32.0c6cc0e9.js";import"../js-sha3/js-sha3.ce966f76.js";import"../ethers/ethers.7357afd8.js";import"../@apollo/@apollo.167459d8.js";import"../tslib/tslib.cdb03bbf.js";import"../optimism/optimism.dbbdffb5.js";import"../@wry/@wry.ac881673.js";import"../ts-invariant/ts-invariant.73996d61.js";import"../graphql/graphql.c449efb6.js";import"../zen-observable-ts/zen-observable-ts.11549e90.js";import"../symbol-observable/symbol-observable.efed2817.js";import"../graphql-tag/graphql-tag.47c56ce3.js";const L=t=>(T("data-v-4757e1af"),t=t(),$(),t),Q={class:"container"},z={class:"container2"},B=["src"],O=L((()=>u("p",{class:"main_title"},"Congratulations",-1))),V=L((()=>u("p",{class:"main_desc"},[h("On Becoming A Member Of The New "),u("br"),h(" Recruitment Program, Invite Your Friends To "),u("br"),h(" Buy SCT Immediately And Enjoy The 1% Reward")],-1))),H={class:"data_container"},M={class:"data-item"},U={class:"data-data"},D={key:1,class:"data-num"},K=L((()=>u("div",{class:"data-title"},"Total Revenue",-1))),Y=L((()=>u("div",{class:"data-line"},null,-1))),G={class:"data-item"},J={class:"data-data"},X={key:1,class:"data-num"},Z=L((()=>u("div",{class:"data-title"},"Extracted",-1))),tt=L((()=>u("div",{class:"data-line"},null,-1))),at={class:"data-item"},st={class:"data-data"},et={key:1,class:"data-num"},it=L((()=>u("div",{class:"data-title"},"Extractable",-1))),lt=["disabled"],rt={class:"record_contaienr"},ot=L((()=>u("p",{class:"main_title"},"Invitation Record",-1))),nt={class:"record_item"},mt={class:"item"},ct=L((()=>u("div",{class:"item_title"},"income",-1))),ut={class:"item_data"},dt={class:"item"},vt=L((()=>u("div",{class:"item_title"},"Purchase quantity",-1))),pt={class:"item_data"},ht={class:"item"},jt=L((()=>u("div",{class:"item_title"},"Time",-1))),bt={class:"item_data"},ft={class:"item"},gt=L((()=>u("div",{class:"item_title"},"Address",-1))),yt={class:"item_data"},wt=P(i({__name:"RichPlan",setup(i){const{proxy:T}=_(),$=R();x();const S=E(),P=l((()=>$.state.walletAccount));r("");const L=l((()=>$.state.inviteCode)),wt=r(""),_t=r(""),Ct=r(null),Tt=r(null),$t=r(null),kt=r(0),xt=o({list:[]}),Et=o({list:[]});n((()=>{S.query.inviteCode&&$.commit("setInviteCode",S.query.inviteCode),_t.value=L.value,P.value&&(Rt(),qt(),wt.value=window.location.origin+"/#/RichPlanInvite?inviteCode="+P.value)}));const Rt=async()=>{try{const t=F(W,q,A),a=await t.inviteList(P.value);Ct.value=a?T.$utils.utilFormat(I.formatEther(a.rewardWithdrawed)):0,Tt.value=a?T.$utils.utilFormat(I.formatEther(a.rewardWaitWithdraw)):0,$t.value=a?Ct.value+Tt.value:0}catch(t){T.$showFailToast("Error")}},St=(t,a)=>{for(var s=0,e=[];s<t.length;)e.push(t.slice(s,s+=a));return e},qt=async()=>{try{const t=F(W,q,A);(await t.getUserInviteeList(P.value)).map((t=>{const a=T.$utils.utilFormat(I.formatEther(t.sctAmount)),s=100*a,e=T.$utils.formatDate(1e3*t.time);Et.list.push({invitee:t.invitee,income:a,purchaseQuantity:s,time:e})})),xt.list=St(Et.list,10).slice(kt.value-1,kt.value)[0]}catch(t){T.$showFailToast("Error")}},It=()=>{xt.list=St(Et.list,10).slice(kt.value-1,kt.value)[0]},Nt=async()=>{T.$showLoadingToast({});try{const t=F(W,q,A),a=await t.connect(N()).withdrawReward();await a.wait(),T.$showSuccessToast(),Rt()}catch(t){T.$closeToast()}},Ft=()=>{wt.value&&T.$utils.handleCopy(wt.value)};return(i,l)=>{const r=e,o=s,n=a,_=t;return C(),m("section",Q,[c(r,{headTitle:"user acquisition"}),u("div",z,[u("img",{class:"banner",src:d(k),alt:""},null,8,B),O,V,u("button",{class:"btn1",onClick:Ft},"Copy your invitation link"),u("div",H,[u("div",M,[u("div",U,[null===$t.value?(C(),v(o,{key:0,title:"",titleWidth:"100%",style:{height:"1.1rem"}})):(C(),m("div",D,[u("p",null,p(d(T).$utils.formatNumber($t.value,4)),1),h(" SCT ")]))]),K]),Y,u("div",G,[u("div",J,[null===Ct.value?(C(),v(o,{key:0,title:"",titleWidth:"100%",style:{height:"1.1rem"}})):(C(),m("div",X,[u("p",null,p(d(T).$utils.formatNumber(Ct.value,4)),1),h(" SCT ")]))]),Z]),tt,u("div",at,[u("div",st,[null===Tt.value?(C(),v(o,{key:0,title:"",titleWidth:"100%",style:{height:"1.1rem"}})):(C(),m("div",et,[u("p",null,p(d(T).$utils.formatNumber(Tt.value,4)),1),h(" SCT ")]))]),it])]),u("button",{class:j(["btn1",{disabled:Tt.value<1}]),onClick:Nt,disabled:Tt.value<1},"Extract Now",10,lt),u("div",rt,[ot,(C(!0),m(b,null,f(xt.list,((t,a)=>(C(),m("div",{class:"record_list",key:a},[u("div",nt,[u("div",mt,[ct,u("div",ut,p(d(T).$utils.formatNumber(t.income,4))+" SCT",1)]),u("div",dt,[vt,u("div",pt,p(d(T).$utils.formatNumber(t.purchaseQuantity,4))+" SCT",1)]),u("div",ht,[jt,u("div",bt,p(t.time),1)]),u("div",ft,[gt,u("div",yt,p(t.invitee),1)])])])))),128))]),g(c(_,{modelValue:kt.value,"onUpdate:modelValue":l[0]||(l[0]=t=>kt.value=t),"force-ellipses":"","total-items":Et.list.length,"show-page-size":10,onChange:It},{"prev-text":w((()=>[c(n,{name:"arrow-left"})])),"next-text":w((()=>[c(n,{name:"arrow"})])),page:w((({text:t})=>[h(p(t),1)])),_:1},8,["modelValue","total-items"]),[[y,Et.list.length>10]])])])}}}),[["__scopeId","data-v-4757e1af"]]);export{wt as default};
