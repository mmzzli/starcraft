import{_ as s}from"../HeaderTitle/HeaderTitle.41d7b1f9.js";import{u as t}from"../vuex/vuex.adf06551.js";import{j as r}from"../starcraft-sdk/starcraft-sdk.b9fffec7.js";import{k as e,c as i,d as o,e as a,A as n,j as l,M as c,B as p,F as u,P as d,g as m,C as h,u as j,Q as f,R as v}from"../@vue/@vue.f0ed93ab.js";import{_ as b}from"../vue-count-to/vue-count-to.7851cffd.js";import"../img32/img32.2d4b9acf.js";import"../vue-router/vue-router.6a5eb8ba.js";import"../starcraft-core/starcraft-core.a7e8a7b2.js";import"../@ethersproject/@ethersproject.82fce948.js";import"../bn.js/bn.js.022a57fe.js";import"../aes-js/aes-js.52245d71.js";import"../hash.js/hash.js.951de082.js";import"../minimalistic-assert/minimalistic-assert.62310433.js";import"../inherits/inherits.e883a70c.js";import"../bech32/bech32.0c6cc0e9.js";import"../js-sha3/js-sha3.ce966f76.js";import"../ethers/ethers.7357afd8.js";import"../@apollo/@apollo.167459d8.js";import"../tslib/tslib.cdb03bbf.js";import"../optimism/optimism.dbbdffb5.js";import"../@wry/@wry.ac881673.js";import"../ts-invariant/ts-invariant.73996d61.js";import"../graphql/graphql.c449efb6.js";import"../zen-observable-ts/zen-observable-ts.11549e90.js";import"../symbol-observable/symbol-observable.efed2817.js";import"../graphql-tag/graphql-tag.47c56ce3.js";const g={class:"container"},k={class:"container2"},y={class:"text"},C={class:"listbox"},T=(s=>(f("data-v-73d29f5c"),s=s(),v(),s))((()=>c("div",{class:"th"},[c("p",null,"Address"),c("p",null,"Sort"),c("p",null,"TXid")],-1))),I={key:0},$=["href"],w={key:1,class:"nodata"},x=b(e({__name:"InviteDetails",setup(e){const{proxy:f}=m(),v=t(),b=i((()=>v.state.walletAccount)),x=o({first:1e3,skip:0,orderBy:"timestamp",orderDirection:"desc",inviter:"",user:""}),D=o({first:1e3,skip:0,orderBy:"usersCount",orderDirection:"desc",inviter:""}),_=o({list:[],info:{}});a((()=>{b.value&&(B(),N())}));const B=()=>{f.$showLoadingToast({});const{first:s,skip:t,orderBy:e,orderDirection:i}=x;r.getBindInfos(s,t,e,i,b.value,"").then((s=>{s.data.bindInfos.length>0?(_.list.push(...s.data.bindInfos),s.data.bindInfos.length>=x.first?(x.skip=x.skip+x.first,B()):f.$closeToast()):f.$closeToast()})).catch((s=>{f.$showFailToast("Error")}))},N=()=>{f.$showLoadingToast({});const{first:s,skip:t,orderBy:e,orderDirection:i}=D;r.getCounters(s,t,e,i,b.value).then((s=>{if(s.data.counters.length>0){const{usersCount:t,directCount:r,indirectCount:e}=s.data.counters[0];_.info={usersCount:Number(t),directCount:Number(r),indirectCount:Number(e)}}f.$closeToast()})).catch((s=>{f.$showFailToast("Error")}))};return(t,r)=>{const e=s;return h(),n("section",g,[l(e,{headTitle:"Invitation Relationship"}),c("div",k,[c("div",y,[c("p",null,"Direct friends: "+p(_.info.directCount||0),1),c("p",null,"Indirect friends: "+p(_.info.indirectCount||0),1)]),c("div",C,[T,_.list.length>0?(h(),n("ul",I,[(h(!0),n(u,null,d(_.list,((s,t)=>(h(),n("li",{key:t},[c("p",null,p(j(f).$utils.ellipsisWallet(s.user)),1),c("p",null,p(0==Number(s.type)?"Direct":"Indirect"),1),c("p",null,[c("a",{href:"https://bscscan.com/tx/"+s.hash,target:"_blank"},p(j(f).$utils.ellipsisWallet(s.hash)),9,$)])])))),128))])):(h(),n("div",w,"No data"))])])])}}}),[["__scopeId","data-v-73d29f5c"]]);export{x as default};
